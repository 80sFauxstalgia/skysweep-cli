// utils/marketerCheck.js\n// Heuristic, conservative by default. Returns a score and reasons.\nexport function checkIfLikelyMarketer(user) {\n  let score = 0;\n  const reasons = [];\n\n  const follows = Number(user?.followsCount ?? 0);\n  const followers = Number(user?.followersCount ?? 0);\n  const posts = Number(user?.postsCount ?? 0);\n  const ratio = followers / Math.max(1, follows);\n\n  const text = `${user?.displayName ?? \"\"} ${user?.handle ?? \"\"} ${user?.description ?? \"\"}`.toLowerCase();\n\n  // --- Heuristics & Weights ---\n\n  // 1. Link Hubs (Strong signal)\n  const linkHubs = /(linktr\.ee|beacons?\.ai|lnk\.bio|carrd\.co|stan\.store|gumroad|ko-fi|patreon|buymeacoffee|onlyfans|fansly|taplink|bit\.ly|tinyurl|t\.co|amzn\.to)/i;\n  if (linkHubs.test(text)) {\n    score += 25;\n    reasons.push(\"Contains link hub (e.g., linktr.ee)\");\n  }\n\n  // 2. Promotional Keywords (Medium signal)\n  const promoKw = /(brand(?:ing)?|growth|dm (?:me|us)|promo|marketing|spon|collab|partnership|ambassador|leads?|funnels?|newsletter|courses?|coaching|consult(?:ing)?|shop my|discount|affiliate|dropship|crypto|nft|webinar|masterclass|e-book|creator|influencer|agency)/i;\n  if (promoKw.test(text)) {\n    score += 20;\n    reasons.push(\"Contains promotional keywords (e.g., marketing, course)\");\n  }\n\n  // 3. High Follow Skew (Medium signal for marketers)\n  // Follows a lot more people than follow them back.\n  if (posts >= 20 && follows >= 5000 && ratio < 0.5) {\n    score += 15;\n    reasons.push(`High follow-to-follower skew (ratio: ${ratio.toFixed(3)})`);\n  }\n\n  // 4. Emoji Spam (Weak signal)\n  // Using lots of \"business\" emojis in their name/bio.\n  const emojiSpam = /[🚀📈💰💸🔥🎯✨✔️☑️✅]/g;\n  const emojiMatches = text.match(emojiSpam) || [];\n  if (emojiMatches.length >= 3) {\n    score += 10;\n    reasons.push(`Excessive promotional emojis (${emojiMatches.length})`);\n  }\n\n  return { score, reasons };\n}
